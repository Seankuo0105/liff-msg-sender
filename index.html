// 初始化 LIFF
liff.init({
  liffId: "2007811704-87zOPzpM" // <- 這裡改成你的 ID，例如 2002197923-oyY6wJ68
}).then(() => {
  if (liff.isLoggedIn()) {
    sendMsg();
  } else {
    liff.login(); // 自動登入
  }

  function sendMsg() {
    if (liff.isInClient()) {
      liff.sendMessages([
        {
          type: "text",
          text: "我是山豬"
        }
      ])
      .then(() => {
        console.log("訊息已傳送");
        liff.closeWindow(); // 傳完自動關閉
      })
      .catch((err) => {
        console.error("傳送訊息失敗", err);
      });
    } else {
      alert("請從 LINE 中開啟本頁才能傳訊息！");
    }
  }
});
